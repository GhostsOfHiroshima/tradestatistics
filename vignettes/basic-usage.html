<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Mauricio Vargas S." />

<meta name="date" content="2019-03-11" />

<title>How to use this package</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">How to use this package</h1>
<h4 class="author"><em>Mauricio Vargas S.</em></h4>
<h4 class="date"><em>2019-03-11</em></h4>



<div id="package-data" class="section level1">
<h1>Package data</h1>
<div id="available-tables" class="section level2">
<h2>Available tables</h2>
<p>Provided this package takes data from an API, it is useful to know which tables can be accessed:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tradestatistics)

ots_attributes_tables
<span class="co">#&gt; # A tibble: 14 x 3</span>
<span class="co">#&gt;    table      description                           source                 </span>
<span class="co">#&gt;    &lt;chr&gt;      &lt;chr&gt;                                 &lt;chr&gt;                  </span>
<span class="co">#&gt;  1 countries  Countries metadata                    UN Comtrade            </span>
<span class="co">#&gt;  2 products   Product metadata                      UN Comtrade            </span>
<span class="co">#&gt;  3 communiti… Product communities                   Harvard's Center for I…</span>
<span class="co">#&gt;  4 reporters  Reporting countries                   UN Comtrade            </span>
<span class="co">#&gt;  5 country_r… Ranking of countries                  Open Trade Statistics  </span>
<span class="co">#&gt;  6 product_r… Ranking of products                   Open Trade Statistics  </span>
<span class="co">#&gt;  7 yrpc       Bilateral trade at commodity level (… Open Trade Statistics  </span>
<span class="co">#&gt;  8 yrp        Bilateral trade at aggregated level … Open Trade Statistics  </span>
<span class="co">#&gt;  9 yrc        Bilateral trade at aggregated level … Open Trade Statistics  </span>
<span class="co">#&gt; 10 yrc_expor… Bilateral trade at aggregated level … Open Trade Statistics  </span>
<span class="co">#&gt; 11 yrc_impor… Reporter trade at commodity level (Y… Open Trade Statistics  </span>
<span class="co">#&gt; 12 yr         Reporter trade at aggregated level (… Open Trade Statistics  </span>
<span class="co">#&gt; 13 yr_short   Reporter trade at aggregated level (… Open Trade Statistics  </span>
<span class="co">#&gt; 14 yc         Commodity trade at aggregated level … Open Trade Statistics</span></code></pre></div>
</div>
<div id="country-codes" class="section level2">
<h2>Country codes</h2>
<p>If you don’t know a certain country code you can explore this data before using the functions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ots_attributes_countries
<span class="co">#&gt; # A tibble: 249 x 6</span>
<span class="co">#&gt;    country_iso country_name_en… country_fullnam… continent_id continent</span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;    </span>
<span class="co">#&gt;  1 afg         Afghanistan      Afghanistan                 1 Asia     </span>
<span class="co">#&gt;  2 alb         Albania          Albania                     2 Europe   </span>
<span class="co">#&gt;  3 dza         Algeria          Algeria                     3 Africa   </span>
<span class="co">#&gt;  4 asm         American Samoa   American Samoa              4 Oceania  </span>
<span class="co">#&gt;  5 and         Andorra          Andorra                     2 Europe   </span>
<span class="co">#&gt;  6 ago         Angola           Angola                      3 Africa   </span>
<span class="co">#&gt;  7 aia         Anguilla         Anguilla                    5 Americas </span>
<span class="co">#&gt;  8 atg         Antigua and Bar… Antigua and Bar…            5 Americas </span>
<span class="co">#&gt;  9 arg         Argentina        Argentina                   5 Americas </span>
<span class="co">#&gt; 10 arm         Armenia          Armenia                     1 Asia     </span>
<span class="co">#&gt; # … with 239 more rows, and 1 more variable: eu28_member &lt;int&gt;</span></code></pre></div>
</div>
<div id="product-codes" class="section level2">
<h2>Product codes</h2>
<p>Open Trade Statistics (aka OTS) uses data classified under either HS92, HS96, HS02 and HS07 (Harmonized System) and SITC rev. 1 and rev. 2 (Standard International Trade Classification). A part of our project is to combine all of this under HS07 codes, and to make it available for the period 1962-2016 even for the years before 2007 when HS07 was not in use.</p>
<p>As <a href="https://comtrade.un.org/db/mr/rfglossarylist.aspx">UN Comtrade</a> explains both HS and SITC are trade classifications that are updated by releasing new revisions, and when a classification is released then it remains unaltered. For example, HS92 was released in 1992 and its product codes remain unaltered until today, while newer classifications (e.g. HS07) were created to include newer products (e.g. it was important to provide more details about electronic products that did not exist when HS92 was created).</p>
<p>Each of these classifications consists in numeric codes and a detailed product name associated to each code, for example HS92 (and all HS revisions) contain 4 and 6 digits long codes while SITC does only contain 4 digits long codes in our cleaned datasets (there are 5 digits long SITC codes that we are not using):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ots_attributes_countries
<span class="co">#&gt; # A tibble: 249 x 6</span>
<span class="co">#&gt;    country_iso country_name_en… country_fullnam… continent_id continent</span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;    </span>
<span class="co">#&gt;  1 afg         Afghanistan      Afghanistan                 1 Asia     </span>
<span class="co">#&gt;  2 alb         Albania          Albania                     2 Europe   </span>
<span class="co">#&gt;  3 dza         Algeria          Algeria                     3 Africa   </span>
<span class="co">#&gt;  4 asm         American Samoa   American Samoa              4 Oceania  </span>
<span class="co">#&gt;  5 and         Andorra          Andorra                     2 Europe   </span>
<span class="co">#&gt;  6 ago         Angola           Angola                      3 Africa   </span>
<span class="co">#&gt;  7 aia         Anguilla         Anguilla                    5 Americas </span>
<span class="co">#&gt;  8 atg         Antigua and Bar… Antigua and Bar…            5 Americas </span>
<span class="co">#&gt;  9 arg         Argentina        Argentina                   5 Americas </span>
<span class="co">#&gt; 10 arm         Armenia          Armenia                     1 Asia     </span>
<span class="co">#&gt; # … with 239 more rows, and 1 more variable: eu28_member &lt;int&gt;</span></code></pre></div>
<p>Each product belongs to a group with a given name and number according to HS classification.</p>
</div>
</div>
<div id="package-functions" class="section level1">
<h1>Package functions</h1>
<div id="country-code" class="section level2">
<h2>Country code</h2>
<p>The end user can use this function to find an ISO code by providing a country name. This works by implementing partial search.</p>
<p>Basic examples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Single match with no replacement</span>
<span class="kw">ots_country_code</span>(<span class="st">&quot;Chile&quot;</span>)
<span class="co">#&gt; country_iso </span>
<span class="co">#&gt;       &quot;chl&quot;</span>

<span class="co"># Single match with replacement</span>
<span class="kw">ots_country_code</span>(<span class="st">&quot;America&quot;</span>)
<span class="co">#&gt; country_iso </span>
<span class="co">#&gt;       &quot;usa&quot;</span>

<span class="co"># Double match with no replacement</span>
<span class="kw">ots_country_code</span>(<span class="st">&quot;Germany&quot;</span>)
<span class="co">#&gt; There is more than one match for your search. Please try again </span>
<span class="co">#&gt;        using one of these codes:</span>
<span class="co">#&gt; # A tibble: 2 x 6</span>
<span class="co">#&gt;   country_iso country_name_en… country_fullnam… continent_id continent</span>
<span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;    </span>
<span class="co">#&gt; 1 ddr         Fmr Dem. Rep. o… Fmr Dem. Rep. o…            2 Europe   </span>
<span class="co">#&gt; 2 deu         Germany          Germany (former…            2 Europe   </span>
<span class="co">#&gt; # … with 1 more variable: eu28_member &lt;int&gt;</span></code></pre></div>
</div>
<div id="product-code" class="section level2">
<h2>Product code</h2>
<p>The end user can use this function to find a product code by providing a product name. This works by implementing partial search.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_product_code</span>(<span class="st">&quot;wine&quot;</span>)
<span class="co">#&gt; # A tibble: 58 x 5</span>
<span class="co">#&gt;    product_code product_fullname_engli… group_code group_name  type_product</span>
<span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt;                   &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;       </span>
<span class="co">#&gt;  1 0103         Swine; live             01         Animals; l… wine        </span>
<span class="co">#&gt;  2 010310       Swine; live, pure-bred… 01         Animals; l… wine        </span>
<span class="co">#&gt;  3 010391       Swine; live, (other th… 01         Animals; l… wine        </span>
<span class="co">#&gt;  4 010392       Swine; live, (other th… 01         Animals; l… wine        </span>
<span class="co">#&gt;  5 0203         Meat of swine; fresh, … 02         Meat and e… wine        </span>
<span class="co">#&gt;  6 020311       Meat; of swine, carcas… 02         Meat and e… wine        </span>
<span class="co">#&gt;  7 020312       Meat; of swine, hams, … 02         Meat and e… wine        </span>
<span class="co">#&gt;  8 020319       Meat; of swine, n.e.c.… 02         Meat and e… wine        </span>
<span class="co">#&gt;  9 020321       Meat; of swine, carcas… 02         Meat and e… wine        </span>
<span class="co">#&gt; 10 020322       Meat; of swine, hams, … 02         Meat and e… wine        </span>
<span class="co">#&gt; # … with 48 more rows</span></code></pre></div>
</div>
<div id="trade-data" class="section level2">
<h2>Trade data</h2>
<p>This function downloads data for a single year and needs (at least) some filter parameters according to the query type.</p>
<div id="bilateral-trade-at-product-level-year---reporter---partner---product-code" class="section level3">
<h3>Bilateral trade at product level (Year - Reporter - Partner - Product Code)</h3>
<p>If we want Chile-Argentina bilateral trade at product level in 1980:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partner =</span> <span class="st">&quot;arg&quot;</span>)
<span class="co">#&gt; # A tibble: 580 x 20</span>
<span class="co">#&gt;     year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span>
<span class="co">#&gt;  1  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  2  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  3  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  4  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  5  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  6  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  7  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  8  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  9  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; 10  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; # … with 570 more rows, and 15 more variables: product_code &lt;chr&gt;,</span>
<span class="co">#&gt; #   product_code_length &lt;int&gt;, product_fullname_english &lt;chr&gt;,</span>
<span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, import_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd &lt;int&gt;, export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>Which is the same as:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partner =</span> <span class="st">&quot;arg&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrpc&quot;</span>)
<span class="co">#&gt; # A tibble: 580 x 20</span>
<span class="co">#&gt;     year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span>
<span class="co">#&gt;  1  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  2  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  3  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  4  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  5  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  6  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  7  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  8  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  9  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; 10  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; # … with 570 more rows, and 15 more variables: product_code &lt;chr&gt;,</span>
<span class="co">#&gt; #   product_code_length &lt;int&gt;, product_fullname_english &lt;chr&gt;,</span>
<span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, import_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd &lt;int&gt;, export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>If we want Chile-Argentina bilateral trade at product level in 1980-1982:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span><span class="op">:</span><span class="dv">1982</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partner =</span> <span class="st">&quot;arg&quot;</span>)
<span class="co">#&gt; # A tibble: 1,630 x 20</span>
<span class="co">#&gt;     year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span>
<span class="co">#&gt;  1  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  2  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  3  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  4  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  5  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  6  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  7  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  8  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  9  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; 10  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; # … with 1,620 more rows, and 15 more variables: product_code &lt;chr&gt;,</span>
<span class="co">#&gt; #   product_code_length &lt;int&gt;, product_fullname_english &lt;chr&gt;,</span>
<span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, import_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd &lt;int&gt;, export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>If we want Chile-Argentina bilateral trade at product level in 1980, 1981 and 1984:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="kw">c</span>(<span class="dv">1980</span>,<span class="dv">1981</span>,<span class="dv">1984</span>), <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partner =</span> <span class="st">&quot;arg&quot;</span>)
<span class="co">#&gt; # A tibble: 1,715 x 20</span>
<span class="co">#&gt;     year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span>
<span class="co">#&gt;  1  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  2  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  3  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  4  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  5  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  6  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  7  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  8  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  9  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; 10  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; # … with 1,705 more rows, and 15 more variables: product_code &lt;chr&gt;,</span>
<span class="co">#&gt; #   product_code_length &lt;int&gt;, product_fullname_english &lt;chr&gt;,</span>
<span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, import_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd &lt;int&gt;, export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>If we want Chile-Argentina bilateral trade at product level in 1980 and 1981 with respect to product “0101” (Horses, asses, mules and hinnies; live):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span><span class="op">:</span><span class="dv">1981</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partner =</span> <span class="st">&quot;arg&quot;</span>, <span class="dt">product =</span> <span class="st">&quot;0101&quot;</span>)
<span class="co">#&gt; # A tibble: 2 x 15</span>
<span class="co">#&gt;    year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span>
<span class="co">#&gt; 1  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; 2  1981 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; # … with 10 more variables: product_code &lt;chr&gt;, product_code_length &lt;int&gt;,</span>
<span class="co">#&gt; #   product_fullname_english &lt;chr&gt;, group_code &lt;chr&gt;, group_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   import_value_usd &lt;int&gt;, import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>But if we want Chile-Argentina bilateral trade at product level in 1980 with respect to all the codes that match the string “horse” at product or group name:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partner =</span> <span class="st">&quot;arg&quot;</span>, <span class="dt">product =</span> <span class="st">&quot;horse&quot;</span>)
<span class="co">#&gt; # A tibble: 21 x 17</span>
<span class="co">#&gt;     year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span>
<span class="co">#&gt;  1  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  2  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  3  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  4  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  5  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  6  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  7  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  8  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt;  9  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; 10  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; # … with 11 more rows, and 12 more variables: product_code &lt;chr&gt;,</span>
<span class="co">#&gt; #   product_code_length &lt;int&gt;, product_fullname_english &lt;chr&gt;,</span>
<span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, import_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;, observation &lt;chr&gt;,</span>
<span class="co">#&gt; #   export_value_usd &lt;int&gt;</span></code></pre></div>
<p>Here some fields deserve an explanation:</p>
<ul>
<li><code>product_code</code>: HS07 product codes (e.g. according to the  table within this package, 0101 stands for “Horses, etc.”)</li>
<li><code>product_code_length</code>: How many digits does <code>product_code</code> contain, this can be useful to filter by depth when using HS codes (HS 6 digits is a more detailed version of HS 4 digits, and therefore you don’t have to sum both or you’ll be counting exports/imports twice)</li>
<li><code>group_code</code>: International categorization of group products defined after product ID</li>
<li><code>group_name</code>: English name corresponding to <code>group_id</code></li>
<li><code>export_value_usd</code>: Exports measured in nominal United States Dollars (USD)</li>
<li><code>import_value_usd</code>: Imports measured in nominal United States Dollars (USD)</li>
<li><code>export_value_usd_percentage_change_1_year</code>: Nominal increase/decrease in exports measured as percentage with respect to last year</li>
<li><code>export_value_usd_percentage_change_5_years</code>: Nominal increase/decrease in exports measured as percentage with respect to five years ago</li>
<li><code>export_value_usd_change_1_year</code>: Nominal increase/decrease in exports measured in USD with respect to last year</li>
<li><code>export_value_usd_change_5_years</code>: Nominal increase/decrease in exports measured in USD with respect to five years ago</li>
</ul>
</div>
<div id="bilateral-trade-at-aggregated-level-year---reporter---partner" class="section level3">
<h3>Bilateral trade at aggregated level (Year - Reporter - Partner)</h3>
<p>If we want Chile-Argentina bilateral trade at aggregated level in 1980:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partner =</span> <span class="st">&quot;arg&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrp&quot;</span>)
<span class="co">#&gt; # A tibble: 1 x 15</span>
<span class="co">#&gt;    year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span>
<span class="co">#&gt; 1  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; # … with 10 more variables: export_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd &lt;int&gt;, export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>If we want Chile-Argentina bilateral trade at aggregated level in 1980 and 1985:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="kw">c</span>(<span class="dv">1980</span>,<span class="dv">1985</span>), <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">partner =</span> <span class="st">&quot;arg&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrp&quot;</span>)
<span class="co">#&gt; # A tibble: 2 x 15</span>
<span class="co">#&gt;    year reporter_iso partner_iso reporter_fullna… partner_fullnam…</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;           </span>
<span class="co">#&gt; 1  1980 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; 2  1985 chl          arg         Chile            Argentina       </span>
<span class="co">#&gt; # … with 10 more variables: export_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd &lt;int&gt;, export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
</div>
<div id="reporter-trade-at-product-level-year---reporter---product-code" class="section level3">
<h3>Reporter trade at product level (Year - Reporter - Product Code)</h3>
<p>If we want Chilean trade at product level in 1980:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrc&quot;</span>)
<span class="co">#&gt; # A tibble: 1,072 x 20</span>
<span class="co">#&gt;     year reporter_iso reporter_fullna… product_code product_code_le…</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt;</span>
<span class="co">#&gt;  1  1980 chl          Chile            0101                        4</span>
<span class="co">#&gt;  2  1980 chl          Chile            0102                        4</span>
<span class="co">#&gt;  3  1980 chl          Chile            0103                        4</span>
<span class="co">#&gt;  4  1980 chl          Chile            0104                        4</span>
<span class="co">#&gt;  5  1980 chl          Chile            0105                        4</span>
<span class="co">#&gt;  6  1980 chl          Chile            0106                        4</span>
<span class="co">#&gt;  7  1980 chl          Chile            0201                        4</span>
<span class="co">#&gt;  8  1980 chl          Chile            0203                        4</span>
<span class="co">#&gt;  9  1980 chl          Chile            0204                        4</span>
<span class="co">#&gt; 10  1980 chl          Chile            0205                        4</span>
<span class="co">#&gt; # … with 1,062 more rows, and 15 more variables:</span>
<span class="co">#&gt; #   product_fullname_english &lt;chr&gt;, group_code &lt;chr&gt;, group_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   export_value_usd &lt;int&gt;, import_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   export_rca_4_digits_product_code &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_rca_4_digits_product_code &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>If we want Chilean trade at product level in 1980 with respect to product “0101” (Horses, asses, mules and hinnies; live):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">product =</span> <span class="st">&quot;0101&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrc&quot;</span>)
<span class="co">#&gt; # A tibble: 1 x 20</span>
<span class="co">#&gt;    year reporter_iso reporter_fullna… product_code product_code_le…</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt;</span>
<span class="co">#&gt; 1  1980 chl          Chile            0101                        4</span>
<span class="co">#&gt; # … with 15 more variables: product_fullname_english &lt;chr&gt;,</span>
<span class="co">#&gt; #   group_code &lt;chr&gt;, group_name &lt;chr&gt;, export_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd &lt;int&gt;, export_rca_4_digits_product_code &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_rca_4_digits_product_code &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>But if we want just products exported by Chile in 1980 that also match the string “horse” at product or group name:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">product =</span> <span class="st">&quot;horse&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yrc&quot;</span>)
<span class="co">#&gt; # A tibble: 45 x 23</span>
<span class="co">#&gt;     year reporter_iso reporter_fullna… product_code product_code_le…</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;                   &lt;int&gt;</span>
<span class="co">#&gt;  1  1980 chl          Chile            0101                        4</span>
<span class="co">#&gt;  2  1980 chl          Chile            0205                        4</span>
<span class="co">#&gt;  3  1980 chl          Chile            0206                        4</span>
<span class="co">#&gt;  4  1980 chl          Chile            5113                        4</span>
<span class="co">#&gt;  5  1980 chl          Chile            5606                        4</span>
<span class="co">#&gt;  6  1980 chl          Chile            5101                        4</span>
<span class="co">#&gt;  7  1980 chl          Chile            510111                      6</span>
<span class="co">#&gt;  8  1980 chl          Chile            510121                      6</span>
<span class="co">#&gt;  9  1980 chl          Chile            5102                        4</span>
<span class="co">#&gt; 10  1980 chl          Chile            510211                      6</span>
<span class="co">#&gt; # … with 35 more rows, and 18 more variables:</span>
<span class="co">#&gt; #   product_fullname_english &lt;chr&gt;, group_code &lt;chr&gt;, group_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   export_value_usd &lt;int&gt;, import_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   export_rca_4_digits_product_code &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_rca_4_digits_product_code &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;, observation &lt;chr&gt;,</span>
<span class="co">#&gt; #   export_rca_6_digits_product_code &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_rca_6_digits_product_code &lt;dbl&gt;</span></code></pre></div>
<p>Here the <code>export_rca*</code> and <code>import_rca*</code> fields contain the Revealed Comparative Advantage (RCA) of an exported product with respect to all the products with the same number of digits. The definition of RCA is detailed on <a href="https://tradestatistics.github.io/documentation/">Open Trade Statistics Documentation</a>.</p>
</div>
<div id="reporter-trade-at-aggregated-level-year---reporter" class="section level3">
<h3>Reporter trade at aggregated level (Year - Reporter)</h3>
<p>If we want Chilean trade at aggregated level in 1980:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">reporter =</span> <span class="st">&quot;chl&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yr&quot;</span>)
<span class="co">#&gt; # A tibble: 1 x 21</span>
<span class="co">#&gt;    year reporter_iso reporter_fullna… export_value_usd import_value_usd</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;                       &lt;dbl&gt;            &lt;dbl&gt;</span>
<span class="co">#&gt; 1  1980 chl          Chile                  5435285486       5173410476</span>
<span class="co">#&gt; # … with 16 more variables: eci_4_digits_commodity_code &lt;dbl&gt;,</span>
<span class="co">#&gt; #   eci_rank_4_digits_commodity_code &lt;int&gt;,</span>
<span class="co">#&gt; #   eci_rank_4_digits_commodity_code_delta_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   eci_rank_4_digits_commodity_code_delta_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   top_export_commodity_code &lt;chr&gt;, top_export_trade_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   top_import_commodity_code &lt;chr&gt;, top_import_trade_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>Here some fields deserve an explanation:</p>
<ul>
<li><code>eci_4_digits_product_code</code>: Economic Complexity Index (ECI) which is detailed on <a href="https://tradestatistics.github.io/documentation/">Open Trade Statistics Documentation</a>. This index is built by using just four digits product codes.</li>
<li><code>eci_rank_4_digits_product_code</code>: The rank of a country given its ECI (e.g. the highest ECI obtains the #1)</li>
<li><code>eci_rank_4_digits_product_code_delta_1_year</code>: How many places a country increased or decreased with respect to last year</li>
</ul>
</div>
<div id="product-trade-at-aggregated-level-year---product-code" class="section level3">
<h3>Product trade at aggregated level (Year - Product Code)</h3>
<p>If we want all products trade in 1980:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">table =</span> <span class="st">&quot;yc&quot;</span>)
<span class="co">#&gt; # A tibble: 1,106 x 24</span>
<span class="co">#&gt;     year product_code product_code_le… product_fullnam… group_code</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;            &lt;chr&gt;     </span>
<span class="co">#&gt;  1  1980 0101                        4 Horses, asses, … 01        </span>
<span class="co">#&gt;  2  1980 0102                        4 Bovine animals;… 01        </span>
<span class="co">#&gt;  3  1980 0103                        4 Swine; live      01        </span>
<span class="co">#&gt;  4  1980 0104                        4 Sheep and goats… 01        </span>
<span class="co">#&gt;  5  1980 0105                        4 Poultry; live, … 01        </span>
<span class="co">#&gt;  6  1980 0106                        4 Animals, n.e.c.… 01        </span>
<span class="co">#&gt;  7  1980 0201                        4 Meat of bovine … 02        </span>
<span class="co">#&gt;  8  1980 0203                        4 Meat of swine; … 02        </span>
<span class="co">#&gt;  9  1980 0204                        4 Meat of sheep o… 02        </span>
<span class="co">#&gt; 10  1980 0205                        4 Meat of horses,… 02        </span>
<span class="co">#&gt; # … with 1,096 more rows, and 19 more variables: group_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   export_value_usd &lt;dbl&gt;, import_value_usd &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pci_4_digits_product_code &lt;dbl&gt;, pci_rank_4_digits_product_code &lt;int&gt;,</span>
<span class="co">#&gt; #   pci_rank_4_digits_product_code_delta_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   pci_rank_4_digits_product_code_delta_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   top_exporter_iso &lt;chr&gt;, top_exporter_trade_value_usd &lt;dbl&gt;,</span>
<span class="co">#&gt; #   top_importer_iso &lt;chr&gt;, top_importer_trade_value_usd &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>If we want traded values of product “0101” (Horses, asses, mules and hinnies; live) in 1980:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">product =</span> <span class="st">&quot;0101&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yc&quot;</span>)
<span class="co">#&gt; # A tibble: 1 x 24</span>
<span class="co">#&gt;    year product_code product_code_le… product_fullnam… group_code</span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;            &lt;chr&gt;     </span>
<span class="co">#&gt; 1  1980 0101                        4 Horses, asses, … 01        </span>
<span class="co">#&gt; # … with 19 more variables: group_name &lt;chr&gt;, export_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd &lt;int&gt;, pci_4_digits_product_code &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pci_rank_4_digits_product_code &lt;int&gt;,</span>
<span class="co">#&gt; #   pci_rank_4_digits_product_code_delta_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   pci_rank_4_digits_product_code_delta_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   top_exporter_iso &lt;chr&gt;, top_exporter_trade_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   top_importer_iso &lt;chr&gt;, top_importer_trade_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;</span></code></pre></div>
<p>If we want traded values of all products that match the string “horse” at product or group name:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ots_create_tidy_data</span>(<span class="dt">year =</span> <span class="dv">1980</span>, <span class="dt">product =</span> <span class="st">&quot;horse&quot;</span>, <span class="dt">table =</span> <span class="st">&quot;yc&quot;</span>)
<span class="co">#&gt; # A tibble: 52 x 29</span>
<span class="co">#&gt;     year product_code product_code_le… product_fullnam… group_code</span>
<span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;            &lt;chr&gt;     </span>
<span class="co">#&gt;  1  1980 0101                        4 Horses, asses, … 01        </span>
<span class="co">#&gt;  2  1980 0205                        4 Meat of horses,… 02        </span>
<span class="co">#&gt;  3  1980 0206                        4 Edible offal of… 02        </span>
<span class="co">#&gt;  4  1980 5110                        4 Yarn of coarse … 51        </span>
<span class="co">#&gt;  5  1980 5113                        4 Woven fabrics o… 51        </span>
<span class="co">#&gt;  6  1980 5606                        4 Yarn and strip … 56        </span>
<span class="co">#&gt;  7  1980 5101                        4 Wool, not carde… 51        </span>
<span class="co">#&gt;  8  1980 510111                      6 Wool; (not card… 51        </span>
<span class="co">#&gt;  9  1980 510121                      6 Wool; (not card… 51        </span>
<span class="co">#&gt; 10  1980 5102                        4 Fine or coarse … 51        </span>
<span class="co">#&gt; # … with 42 more rows, and 24 more variables: group_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   export_value_usd &lt;dbl&gt;, import_value_usd &lt;dbl&gt;,</span>
<span class="co">#&gt; #   pci_4_digits_product_code &lt;dbl&gt;, pci_rank_4_digits_product_code &lt;int&gt;,</span>
<span class="co">#&gt; #   pci_rank_4_digits_product_code_delta_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   pci_rank_4_digits_product_code_delta_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   top_exporter_iso &lt;chr&gt;, top_exporter_trade_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   top_importer_iso &lt;chr&gt;, top_importer_trade_value_usd &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   export_value_usd_percentage_change_5_years &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_change_5_years &lt;int&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_1_year &lt;dbl&gt;,</span>
<span class="co">#&gt; #   import_value_usd_percentage_change_5_years &lt;dbl&gt;, observation &lt;chr&gt;,</span>
<span class="co">#&gt; #   pci_6_digits_product_code &lt;dbl&gt;, pci_rank_6_digits_product_code &lt;int&gt;,</span>
<span class="co">#&gt; #   pci_rank_6_digits_product_code_delta_1_year &lt;int&gt;,</span>
<span class="co">#&gt; #   pci_rank_6_digits_product_code_delta_5_years &lt;int&gt;</span></code></pre></div>
<p>Here some fields deserve an explanation:</p>
<ul>
<li><code>pci_4_digits_product_code</code>: Product Complexity Index (PCI) which is detailed on <a href="https://tradestatistics.github.io/documentation/">Open Trade Statistics Documentation</a>. This index is built by using just four digits product codes.</li>
<li><code>pci_6_digits_product_code</code>: Similar to the previous field but built by using just six digits product codes.</li>
<li><code>pci_rank_4_digits_product_code</code>: The rank of a product given its PCI (e.g. the highest PCI obtains the #1)</li>
<li><code>pci_rank_4_digits_product_code_delta_1_year</code>: How many places a country increased or decreased with respect to last year</li>
</ul>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
